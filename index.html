<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <title>rPlayer in action</title>
    <meta name="description" content="rPlayer is a player play streaming radio, this player, offers the possibility to change different audio format. Example: .m3u8, .mp3, .aac.">
</head>
<body>
    <div class="w3-container w3-blue">
      <h1>rPlayer</h1>
      <p>rPlayer is a player play streaming radio, this player, offers the possibility to change different audio format. Example: .m3u8, .mp3, .aac.</p>
    </div>
    <div class="w3-container"> 
        <h1>rPlayer in action</h1>
        <p>      
            <label class="w3-text-grey">Streaming url:</label>
            <input id="url" class="w3-input w3-border" type="text" value="https://cogecomedia.leanstream.co/cogecomedia/CKBEFM.stream/playlist.m3u8">
        </p>
        <div class="w3-row">
            <div class="w3-half">
                <h2>Try</h2>
                <p>
                    <button id="play" class="w3-button w3-green">Play</button>
                    <button id="stop" class="w3-button w3-red">Stop</button>
                    <button id="mute" class="w3-button w3-yellow">Mute</button>
                    <button id="time3" class="w3-button w3-blue">Time -3</button>
                </p>
            </div>
            <div class="w3-half">
                <h2>Volume</h2>
                <p>
                    <button id="volumeUp" class="w3-button w3-purple">Up</button>
                    <button id="volumeDown" class="w3-button w3-deep-purple">Down</button>
                </p>
            </div>
        </div>
        <div class="w3-row">
            <div class="w3-panel w3-pale-yellow w3-border">
                <h3>Infos</h3>
                <p>
                    Playing: <span id="playing"></span><br>
                    Volume: <span id="volume"></span>%<br>
                    Muted: <span id="muted"></span><br>
                    Source: <span id="src"></span><br>
                    Time: <span id="time"></span> seconds
                </p>
            </div>
        </div>
    </div>
    <div class="w3-container">
        <h5><a href="https://github.com/davland7/rplayer" target="_blank">GitHub</a></h5>
    </div>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="dist/rplayer.js"></script>
    <script>
        var audio = new rPlayer();

        info();

        $('#play').on('click', play);
        $('#stop').on('click', stop);
        $('#mute').on('click', mute);
        $('#time3').on('click', time3);
        $('#volumeUp').on('click', volumeUp);
        $('#volumeDown').on('click', volumeDown);

        function play() {
            audio.play($('#url').val());

            setInterval(info, 1000);
        }

        function stop() {
            audio.stop();

            info();
        }

        function mute() {
            audio.mute();

            info();
        }

        function time3() {
            audio.currentTime = audio.currentTime - 3;
        }

        function volumeUp() {
            if (audio.volume < 10) {
                audio.volume = audio.volume + 1;
            }

            info();
        }

        function volumeDown() {
            if (audio.volume > 0) {
                audio.volume = audio.volume - 1;
            }

            info();
        }

        function info() {
            var playing = false;
            var volume = audio.volume * 10;
            var muted = audio.muted;
            var src = null;
            var time = 0;

            if (audio.playing) {
                playing = true;
                src = audio.src;
                time = audio.currentTime;
            }

            $('#playing').html(String(playing));
            $('#volume').html(volume);
            $('#muted').html(String(muted));
            $('#src').html(String(src));
            $('#time').html(time);
        }
    </script>
</body>
</html>
